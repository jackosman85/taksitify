<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taksitify V2 - Finansal Hesaplama ve Analiz Platformu</title>
    <script src="https://unpkg.com/interactjs/dist/interact.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 300px;
            background-color: var(--dark-color);
            color: white;
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .sidebar-header h2 {
            font-size: 1.5rem;
        }
        
        .add-card-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .add-card-btn:hover {
            background-color: #2980b9;
        }
        
        .card-list {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .card-item {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            position: relative;
            padding-right: 40px;
        }
        
        .card-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .card-item.active {
            background-color: var(--primary-color);
        }
        
        .card-delete-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            font-size: 1rem;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .card-delete-btn:hover {
            background-color: var(--danger-color);
            color: white;
            transform: scale(1.1);
        }
        
        .finance-tools {
            margin-top: 30px;
        }
        
        .finance-tools h3 {
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: #ecf0f1;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }
        
        .tool-item {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 12px 15px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .tool-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .tool-item.active {
            background-color: var(--primary-color);
        }
        
        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .card-info {
            display: flex;
            gap: 20px;
        }
        
        .info-box {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--box-shadow);
            flex: 1;
            position: relative;
        }
        
        .info-box h3 {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 5px;
        }
        
        .info-box p {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .limit-bar {
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .limit-fill {
            height: 100%;
            background-color: var(--secondary-color);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .as-limit-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .as-limit-section label {
            display: block;
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 5px;
        }
        
        .as-limit-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .expense-section {
            margin-top: 30px;
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .add-expense-form {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .expense-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .expense-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--box-shadow);
            width: 200px;
            position: relative;
        }
        
        .expense-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .expense-name {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .delete-btn {
            background: none;
            border: none;
            color: var(--danger-color);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .delete-btn:hover {
            background-color: rgba(231, 76, 60, 0.1);
            border-radius: 50%;
            transform: scale(1.1);
        }
        
        .expense-details {
            margin-top: 10px;
        }
        
        .expense-details p {
            margin-bottom: 5px;
        }
        
        .months-section {
            margin-top: 30px;
        }
        
        .months-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 0;
        }
        
        .month-column {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--box-shadow);
            min-width: 200px;
            position: relative;
        }
        
        .month-header {
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .month-total {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
            font-weight: bold;
            text-align: center;
        }
        
        .expense-item {
            background-color: #f9f9f9;
            border-radius: 5px;
            padding: 8px;
            margin-bottom: 8px;
            position: relative;
        }
        
        .expense-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 5px;
        }
        
        .expense-item .expense-name {
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .expense-item .expense-amount {
            font-size: 0.9rem;
            color: #e74c3c;
            font-weight: bold;
        }
        
        .payment-section {
            margin-top: 30px;
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
        }
        
        .payment-items {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .payment-item {
            flex: 1;
        }
        
        .payment-actions {
            display: flex;
            justify-content: flex-end;
        }
        
        .charts-section {
            margin-top: 30px;
            display: flex;
            gap: 20px;
        }
        
        .chart-container {
            flex: 1;
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            width: 450px;
            max-width: 90%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-header h3 {
            font-size: 1.4rem;
            color: var(--dark-color);
            margin: 0;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            transition: all 0.3s;
        }
        
        .close-modal:hover {
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            color: #333;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        
        .draggable {
            cursor: move;
            user-select: none;
        }
        
        .drop-zone {
            min-height: 100px;
            border: 2px dashed #ddd;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            padding: 10px;
        }
        
        .drop-zone.active {
            border-color: var(--primary-color);
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .empty-state {
            text-align: center;
            padding: 20px;
            color: #777;
        }
        
        .finance-calculator {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            margin-top: 30px;
            display: none;
        }
        
        .finance-calculator.active {
            display: block;
        }
        
        .calculator-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--dark-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        
        .calculator-result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .calculator-result h4 {
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .useful-sites {
            margin-top: 30px;
        }
        
        .site-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .site-item {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .site-item:hover {
            transform: translateY(-5px);
        }
        
        .site-logo {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }
        
        .site-content {
            flex: 1;
        }
        
        .site-item a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 5px;
        }
        
        .site-item a:hover {
            text-decoration: underline;
        }
        
        .site-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        .month-indicator {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .current-month {
            border: 2px solid var(--primary-color);
        }
        
        .month-navigation {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .debug-info {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: var(--border-radius);
            padding: 10px;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
        
        /* V2 Geliştirmeleri */
        .version-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .card-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .expense-category {
            background-color: #e3f2fd;
            border-radius: 12px;
            padding: 3px 8px;
            font-size: 0.7rem;
            color: #1976d2;
            margin-top: 5px;
            display: inline-block;
        }
        
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .quick-action-btn {
            flex: 1;
            padding: 8px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: var(--border-radius);
            cursor: pointer;
            text-align: center;
            font-size: 0.8rem;
            transition: all 0.3s;
        }
        
        .quick-action-btn:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Tool Section Styles */
        .tool-section {
            display: none;
        }
        
        .tool-section.active {
            display: block;
        }

        /* Enflasyon Tablosu */
        .inflation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }
        
        .inflation-table th,
        .inflation-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        .inflation-table th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }
        
        .inflation-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .inflation-table .tuk {
            color: #3498db;
            font-weight: bold;
        }
        
        .inflation-table .ito {
            color: #2ecc71;
            font-weight: bold;
        }
        
        .inflation-table .enag {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .chart-comparison {
            margin-top: 30px;
        }
        
        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        /* Getiri Hesaplama Styles */
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .calculator-inputs {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
        }
        
        .calculator-results {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .result-label {
            font-weight: 500;
            color: #666;
        }
        
        .result-value {
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--primary-color);
        }
        
        .result-highlight {
            background-color: #e8f5e8;
            padding: 15px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--secondary-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sol Menü - Kart Listesi ve Finansal Araçlar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Kartlarım</h2>
                <button class="add-card-btn" id="addCardBtn">+</button>
            </div>
            <ul class="card-list" id="cardList">
                <div class="empty-state">Henüz kart eklenmemiş</div>
            </ul>
            
            <div class="finance-tools">
                <h3>Finansal Hesaplama Araçları</h3>
                <div class="tool-item active" data-tool="taksit">Taksit Hesaplama</div>
                <div class="tool-item" data-tool="getiri">Getiri Hesaplama</div>
                <div class="tool-item" data-tool="monthly-budget">Aylık Bütçe Hesaplayıcı</div>
                <div class="tool-item" data-tool="inflation">Enflasyon Hesaplama</div>
                <div class="tool-item" data-tool="useful-sites">Yararlı Siteler</div>
            </div>
        </div>
        
        <!-- Ana İçerik -->
        <div class="main-content">
            <div class="version-badge">V2</div>
            
            <!-- Taksit Hesaplama Bölümü -->
            <div id="taksit-section" class="tool-section active">
                <div class="header">
                    <h1 id="currentCardName">Kart Seçin</h1>
                    <div class="card-info">
                        <div class="info-box">
                            <h3>Kullanılabilir Limit</h3>
                            <p id="availableLimit">0 TL</p>
                            <div class="limit-bar">
                                <div class="limit-fill" id="limitFill" style="width: 0%"></div>
                            </div>
                            <div class="as-limit-section">
                                <label for="asLimitInput">As Limit (TL):</label>
                                <input type="number" id="asLimitInput" class="as-limit-input" placeholder="As limit girin" value="25000">
                            </div>
                        </div>
                        <div class="info-box">
                            <h3>Toplam Borç</h3>
                            <p id="totalDebt">0 TL</p>
                        </div>
                        <div class="info-box">
                            <h3>Asgari Ödeme</h3>
                            <p id="minPayment">0 TL</p>
                        </div>
                    </div>
                </div>
                
                <!-- Hızlı İşlemler -->
                <div class="quick-actions">
                    <button class="quick-action-btn" data-amount="500">500 TL</button>
                    <button class="quick-action-btn" data-amount="1000">1000 TL</button>
                    <button class="quick-action-btn" data-amount="2000">2000 TL</button>
                    <button class="quick-action-btn" data-amount="5000">5000 TL</button>
                </div>
                
                <!-- Harcama Ekleme Bölümü -->
                <div class="expense-section">
                    <div class="section-title">
                        <h2>Harcamalar</h2>
                    </div>
                    
                    <div class="add-expense-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expenseName">Harcama Adı</label>
                                <input type="text" id="expenseName" class="form-control" placeholder="Harcama adını girin" value="Test Harcama">
                            </div>
                            <div class="form-group">
                                <label for="expenseAmount">Harcama Tutarı (TL)</label>
                                <input type="number" id="expenseAmount" class="form-control" placeholder="Tutar girin" value="1000">
                            </div>
                            <div class="form-group">
                                <label for="installmentCount">Taksit Sayısı</label>
                                <input type="number" id="installmentCount" class="form-control" placeholder="Taksit sayısı" min="1" value="3">
                            </div>
                        </div>
                        <button class="btn btn-primary" id="addExpenseBtn">Harcama Ekle</button>
                        <div class="debug-info" id="debugInfo">
                            Durum: Taksitify V2 yüklendi. Kart ekleyerek başlayın.
                        </div>
                    </div>
                    
                    <div class="expense-cards" id="expenseCards">
                        <div class="empty-state">Henüz harcama eklenmemiş</div>
                    </div>
                </div>
                
                <!-- Aylık Ödeme Tablosu -->
                <div class="months-section">
                    <div class="section-title">
                        <h2>Aylık Ödemeler</h2>
                        <div class="month-navigation">
                            <button class="btn btn-primary" id="prevMonthsBtn">← Önceki</button>
                            <span id="monthRange">Aylar 1-6</span>
                            <button class="btn btn-primary" id="nextMonthsBtn">Sonraki →</button>
                        </div>
                    </div>
                    <div class="months-container" id="monthsContainer">
                        <div class="empty-state">Henüz harcama eklenmemiş. Harcama ekleyin ve aylara dağıtılsın.</div>
                    </div>
                </div>
            </div>

            <!-- Getiri Hesaplama Bölümü -->
            <div id="getiri-section" class="tool-section">
                <div class="header">
                    <h1>Getiri Hesaplama</h1>
                </div>
                
                <div class="finance-calculator active">
                    <div class="calculator-title">
                        <i class="fas fa-chart-line"></i> Yatırım Getirisi Hesaplayıcı
                    </div>
                    
                    <div class="calculator-grid">
                        <div class="calculator-inputs">
                            <div class="form-group">
                                <label for="investmentAmount">Yatırım Tutarı (TL)</label>
                                <input type="number" id="investmentAmount" class="form-control" value="10000" min="1">
                            </div>
                            
                            <div class="form-group">
                                <label for="investmentPeriod">Yatırım Süresi (Ay)</label>
                                <input type="number" id="investmentPeriod" class="form-control" value="12" min="1">
                            </div>
                            
                            <div class="form-group">
                                <label for="annualReturn">Yıllık Getiri Oranı (%)</label>
                                <input type="number" id="annualReturn" class="form-control" value="15" step="0.1" min="0">
                            </div>
                            
                            <button class="btn btn-success" id="calculateReturnBtn" style="width: 100%;">
                                <i class="fas fa-calculator"></i> Getiriyi Hesapla
                            </button>
                        </div>
                        
                        <div class="calculator-results">
                            <h4>Hesaplama Sonuçları</h4>
                            
                            <div class="result-item">
                                <span class="result-label">Toplam Yatırım:</span>
                                <span class="result-value" id="totalInvestment">10.000 TL</span>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Toplam Getiri:</span>
                                <span class="result-value" id="totalReturn">1.500 TL</span>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Net Kar:</span>
                                <span class="result-value" id="netProfit">1.500 TL</span>
                            </div>
                            
                            <div class="result-highlight">
                                <div class="result-item">
                                    <span class="result-label">Toplam Varlık:</span>
                                    <span class="result-value" id="totalAsset">11.500 TL</span>
                                </div>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Aylık Ortalama Getiri:</span>
                                <span class="result-value" id="monthlyReturn">125 TL</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aylık Bütçe Hesaplayıcı Bölümü -->
            <div id="monthly-budget-section" class="tool-section">
                <div class="header">
                    <h1>Aylık Bütçe Hesaplayıcı</h1>
                </div>
                <div class="finance-calculator active">
                    <div class="calculator-title">
                        <i class="fas fa-calculator"></i> Aylık Bütçe Planlayıcı
                    </div>
                    <div class="empty-state">
                        Bu özellik yakında eklenecek...
                    </div>
                </div>
            </div>

            <!-- Enflasyon Hesaplama Bölümü -->
            <div id="inflation-section" class="tool-section">
                <div class="header">
                    <h1>Enflasyon Hesaplama ve Karşılaştırma</h1>
                </div>
                
                <div class="finance-calculator active">
                    <div class="calculator-title">
                        <i class="fas fa-chart-line"></i> 2025 Yılı Enflasyon Verileri
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="inflationChart"></canvas>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #3498db;"></div>
                                <span>TÜİK</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #2ecc71;"></div>
                                <span>İTO</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #e74c3c;"></div>
                                <span>ENAG</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-comparison">
                        <h3>2025 Yılı Aylık Enflasyon Verileri</h3>
                        <table class="inflation-table">
                            <thead>
                                <tr>
                                    <th>Ay</th>
                                    <th>TÜİK (%)</th>
                                    <th>İTO (%)</th>
                                    <th>ENAG (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ocak 2025</td>
                                    <td class="tuk">5,03</td>
                                    <td class="ito">5,16</td>
                                    <td class="enag">8,20</td>
                                </tr>
                                <tr>
                                    <td>Şubat 2025</td>
                                    <td class="tuk">2,27</td>
                                    <td class="ito">3,19</td>
                                    <td class="enag">3,37</td>
                                </tr>
                                <tr>
                                    <td>Mart 2025</td>
                                    <td class="tuk">2,46</td>
                                    <td class="ito">3,79</td>
                                    <td class="enag">3,91</td>
                                </tr>
                                <tr>
                                    <td>Nisan 2025</td>
                                    <td class="tuk">3,00</td>
                                    <td class="ito">3,21</td>
                                    <td class="enag">4,46</td>
                                </tr>
                                <tr>
                                    <td>Mayıs 2025</td>
                                    <td class="tuk">1,53</td>
                                    <td class="ito">2,83</td>
                                    <td class="enag">3,66</td>
                                </tr>
                                <tr>
                                    <td>Haziran 2025</td>
                                    <td class="tuk">1,37</td>
                                    <td class="ito">1,77</td>
                                    <td class="enag">3,05</td>
                                </tr>
                                <tr>
                                    <td>Temmuz 2025</td>
                                    <td class="tuk">2,06</td>
                                    <td class="ito">2,62</td>
                                    <td class="enag">3,75</td>
                                </tr>
                                <tr>
                                    <td>Ağustos 2025</td>
                                    <td class="tuk">2,04</td>
                                    <td class="ito">1,84</td>
                                    <td class="enag">3,23</td>
                                </tr>
                                <tr>
                                    <td>Eylül 2025</td>
                                    <td class="tuk">3,23</td>
                                    <td class="ito">3,19</td>
                                    <td class="enag">3,79</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="calculator-result">
                        <h4>Enflasyon Verileri Hakkında</h4>
                        <p>Bu grafik ve tablo, TÜİK (Türkiye İstatistik Kurumu), İTO (İstanbul Ticaret Odası) ve ENAG (Enflasyon Araştırma Grubu) tarafından açıklanan 2025 yılı aylık enflasyon verilerini karşılaştırmalı olarak göstermektedir.</p>
                    </div>
                </div>
            </div>

            <!-- Yararlı Siteler Bölümü -->
            <div id="useful-sites-section" class="tool-section">
                <div class="header">
                    <h1>Yararlı Finans Siteleri</h1>
                </div>
                
                <div class="useful-sites">
                    <div class="site-list">
                        <!-- 1. CNBC-e -->
                        <div class="site-item">
                            <div class="site-logo" style="background: linear-gradient(45deg, #FF0000, #8B0000);">
                                <i class="fab fa-youtube"></i>
                            </div>
                            <div class="site-content">
                                <a href="https://www.youtube.com/@cnbce" target="_blank">CNBC-e - YouTube Kanalı</a>
                                <div class="site-description">Ekonomi ve iş dünyasından güncel haberler ve analizler</div>
                            </div>
                        </div>
                        
                        <!-- 2. Donanımhaber Forum -->
                        <div class="site-item">
                            <div class="site-logo" style="background: linear-gradient(45deg, #1e88e5, #0d47a1);">
                                <i class="fas fa-comments"></i>
                            </div>
                            <div class="site-content">
                                <a href="https://forum.donanimhaber.com/yatirim-fonlari-bes-fonlari-ana-konu--147353253" target="_blank">Donanımhaber Yatırım Fonları Forumu</a>
                                <div class="site-description">Yatırım fonları ve BES fonları hakkında topluluk tartışmaları</div>
                            </div>
                        </div>
                        
                        <!-- 3. Cihat E. Çiçek -->
                        <div class="site-item">
                            <div class="site-logo" style="background: linear-gradient(45deg, #FF0000, #CC0000);">
                                <i class="fab fa-youtube"></i>
                            </div>
                            <div class="site-content">
                                <a href="https://www.youtube.com/@cihatecicek" target="_blank">Cihat E. Çiçek - YouTube Kanalı</a>
                                <div class="site-description">Finans, ekonomi ve yatırım konularında eğitici içerikler</div>
                            </div>
                        </div>
                        
                        <!-- 4. Fonparam.com -->
                        <div class="site-item">
                            <div class="site-logo" style="background: linear-gradient(45deg, #4caf50, #2e7d32);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="site-content">
                                <a href="https://www.fonparam.com" target="_blank">Fonparam.com</a>
                                <div class="site-description">Yatırım fonları performans takibi ve karşılaştırma platformu</div>
                            </div>
                        </div>
                        
                        <!-- 5. Bankacılık Ürün ve Hizmet Ücretleri -->
                        <div class="site-item">
                            <div class="site-logo" style="background: linear-gradient(45deg, #9c27b0, #6a1b9a);">
                                <i class="fas fa-landmark"></i>
                            </div>
                            <div class="site-content">
                                <a href="https://www.bankacilikurunvehizmetucretleri.org.tr" target="_blank">Bankacılık Ürün ve Hizmet Ücretleri</a>
                                <div class="site-description">Bankacılık ürünleri ve hizmet ücretleri karşılaştırma platformu</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Kart Ekleme Modal -->
    <div class="modal" id="addCardModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Yeni Kart Ekle</h3>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="modalCardName">Kart Adı</label>
                    <input type="text" id="modalCardName" class="form-control" placeholder="Kart adını girin">
                </div>
                <div class="form-group">
                    <label for="modalAsLimit">As Limit (TL)</label>
                    <input type="number" id="modalAsLimit" class="form-control" placeholder="As limit girin" value="25000">
                </div>
                <div class="form-group">
                    <label for="modalCardLimit">Kullanılabilir Limit (TL)</label>
                    <input type="number" id="modalCardLimit" class="form-control" placeholder="Kart limitini girin">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="cancelAddCardBtn">İptal</button>
                <button class="btn btn-success" id="confirmAddCardBtn">Kart Ekle</button>
            </div>
        </div>
    </div>

    <script>
        // DEBUG: Hata ayıklama için konsol çıktısı
        function debugLog(message) {
            console.log(`[Taksitify V2] ${message}`);
            const debugInfo = document.getElementById('debugInfo');
            if (debugInfo) {
                debugInfo.textContent = `Durum: ${message}`;
            }
        }

        // Uygulama durumu
        const state = {
            cards: [],
            currentCard: null,
            expenses: [],
            months: [],
            payments: [],
            currentTool: 'taksit',
            currentMonthIndex: 0,
            monthsPerView: 6,
            asLimit: 25000
        };

        // Enflasyon verileri
        const inflationData = {
            months: ['Ocak 2025', 'Şubat 2025', 'Mart 2025', 'Nisan 2025', 'Mayıs 2025', 'Haziran 2025', 'Temmuz 2025', 'Ağustos 2025', 'Eylül 2025'],
            tuk: [5.03, 2.27, 2.46, 3.00, 1.53, 1.37, 2.06, 2.04, 3.23],
            ito: [5.16, 3.19, 3.79, 3.21, 2.83, 1.77, 2.62, 1.84, 3.19],
            enag: [8.20, 3.37, 3.91, 4.46, 3.66, 3.05, 3.75, 3.23, 3.79]
        };

        // Sayfa yüklendiğinde
        document.addEventListener('DOMContentLoaded', function() {
            debugLog('Taksitify V2 başlatılıyor...');
            initializeApp();
            setupEventListeners();
            renderInflationChart();
            setupInvestmentCalculator();
        });

        // Uygulamayı başlat
        function initializeApp() {
            debugLog('V2 özellikleri yükleniyor...');
            
            // Tool seçimini ayarla
            setupToolSelection();
            
            debugLog('Taksitify V2 hazır!');
        }

        // Event listener'ları kur
        function setupEventListeners() {
            debugLog('Event listenerlar kuruluyor...');
            
            // Harcama ekle butonu
            document.getElementById('addExpenseBtn').addEventListener('click', function(e) {
                debugLog('Harcama ekle butonuna tıklandı');
                addExpense();
            });
            
            // Kart ekle butonu - Modal aç
            document.getElementById('addCardBtn').addEventListener('click', function() {
                debugLog('Kart ekle butonuna tıklandı, modal açılıyor');
                openAddCardModal();
            });
            
            // Modal kapatma butonları
            document.getElementById('closeModalBtn').addEventListener('click', closeAddCardModal);
            document.getElementById('cancelAddCardBtn').addEventListener('click', closeAddCardModal);
            
            // Kart ekleme onay butonu
            document.getElementById('confirmAddCardBtn').addEventListener('click', function() {
                debugLog('Kart ekleme onay butonuna tıklandı');
                confirmAddCard();
            });
            
            // Modal dışına tıklayarak kapatma
            document.getElementById('addCardModal').addEventListener('click', function(e) {
                if (e.target === document.getElementById('addCardModal')) {
                    closeAddCardModal();
                }
            });
            
            // Ay navigasyon butonları
            document.getElementById('prevMonthsBtn').addEventListener('click', function() {
                if (state.currentMonthIndex > 0) {
                    state.currentMonthIndex--;
                    renderMonthColumns();
                }
            });
            
            document.getElementById('nextMonthsBtn').addEventListener('click', function() {
                if (state.currentMonthIndex + state.monthsPerView < state.months.length) {
                    state.currentMonthIndex++;
                    renderMonthColumns();
                }
            });
            
            // As Limit input değişikliği
            document.getElementById('asLimitInput').addEventListener('change', function() {
                const newAsLimit = parseFloat(document.getElementById('asLimitInput').value);
                if (!isNaN(newAsLimit) && newAsLimit > 0) {
                    state.asLimit = newAsLimit;
                    updateUI();
                    debugLog(`As Limit güncellendi: ${state.asLimit} TL`);
                } else {
                    alert('Lütfen geçerli bir As Limit değeri girin.');
                    document.getElementById('asLimitInput').value = state.asLimit;
                }
            });
            
            // Hızlı işlem butonlarını ayarla
            setupQuickActions();
            
            debugLog('Event listenerlar kuruldu');
        }

        // Getiri Hesaplama fonksiyonlarını kur
        function setupInvestmentCalculator() {
            // Getiri hesaplama butonu
            document.getElementById('calculateReturnBtn').addEventListener('click', calculateInvestmentReturn);
            
            // İlk hesaplamayı yap
            calculateInvestmentReturn();
        }

        // Getiri hesapla
        function calculateInvestmentReturn() {
            const amount = parseFloat(document.getElementById('investmentAmount').value);
            const period = parseFloat(document.getElementById('investmentPeriod').value);
            const annualReturn = parseFloat(document.getElementById('annualReturn').value);
            
            if (isNaN(amount) || isNaN(period) || isNaN(annualReturn)) {
                alert('Lütfen tüm alanları doğru şekilde doldurun.');
                return;
            }
            
            // Aylık getiri oranı
            const monthlyReturnRate = annualReturn / 100 / 12;
            
            // Toplam getiri (bileşik faiz)
            const totalReturn = amount * Math.pow(1 + monthlyReturnRate, period) - amount;
            const totalAsset = amount + totalReturn;
            const monthlyReturn = totalReturn / period;
            
            // Sonuçları göster
            document.getElementById('totalInvestment').textContent = formatCurrency(amount);
            document.getElementById('totalReturn').textContent = formatCurrency(totalReturn);
            document.getElementById('netProfit').textContent = formatCurrency(totalReturn);
            document.getElementById('totalAsset').textContent = formatCurrency(totalAsset);
            document.getElementById('monthlyReturn').textContent = formatCurrency(monthlyReturn);
            
            debugLog(`Getiri hesaplandı: Toplam Getiri: ${totalReturn.toFixed(2)} TL`);
        }

        // Para formatı
        function formatCurrency(amount) {
            return new Intl.NumberFormat('tr-TR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount) + ' TL';
        }

        // Tool seçimini ayarla
        function setupToolSelection() {
            const toolItems = document.querySelectorAll('.tool-item');
            toolItems.forEach(item => {
                item.addEventListener('click', function() {
                    const tool = this.dataset.tool;
                    switchTool(tool);
                    
                    // Aktif tool'u vurgula
                    toolItems.forEach(toolItem => {
                        toolItem.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
        }

        // Tool değiştir
        function switchTool(tool) {
            debugLog(`Tool değiştiriliyor: ${tool}`);
            
            // Tüm tool section'ları gizle
            document.querySelectorAll('.tool-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Seçili tool'u göster
            const targetSection = document.getElementById(`${tool}-section`);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            state.currentTool = tool;
            
            // Enflasyon tool'una geçildiğinde grafiği yeniden render et
            if (tool === 'inflation') {
                setTimeout(() => {
                    renderInflationChart();
                }, 100);
            }
            
            debugLog(`Aktif tool: ${tool}`);
        }

        // Hızlı işlem butonlarını ayarla
        function setupQuickActions() {
            const quickActionBtns = document.querySelectorAll('.quick-action-btn');
            quickActionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const amount = parseFloat(this.dataset.amount);
                    document.getElementById('expenseAmount').value = amount;
                    debugLog(`Hızlı işlem: ${amount} TL seçildi`);
                });
            });
        }

        // Enflasyon grafiğini render et
        function renderInflationChart() {
            debugLog('Enflasyon grafiği oluşturuluyor...');
            
            const ctx = document.getElementById('inflationChart').getContext('2d');
            
            // Eğer önceki chart varsa destroy et
            if (window.inflationChartInstance) {
                window.inflationChartInstance.destroy();
            }
            
            window.inflationChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: inflationData.months,
                    datasets: [
                        {
                            label: 'TÜİK',
                            data: inflationData.tuk,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'İTO',
                            data: inflationData.ito,
                            borderColor: '#2ecc71',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'ENAG',
                            data: inflationData.enag,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '2025 Yılı Aylık Enflasyon Karşılaştırması',
                            font: {
                                size: 16
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: %${context.parsed.y.toFixed(2)}`;
                                }
                            }
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Enflasyon Oranı (%)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return '%' + value;
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Aylar'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'nearest'
                    }
                }
            });
            
            debugLog('Enflasyon grafiği oluşturuldu');
        }

        // Kalan fonksiyonlar mevcut çalışan versiyondan aynen kalacak
        // ...

    </script>
</body>
</html>
